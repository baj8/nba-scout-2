# NBA Scraper Environment Configuration
# Copy this file to .env and update with your actual values

# =============================================================================
# APPLICATION ENVIRONMENT
# =============================================================================

# Application environment (development, staging, production, test)
ENVIRONMENT=development

# Application info
APP_NAME=nba-scraper
APP_VERSION=1.0.0
DEBUG=false

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# Primary database connection URL
# Format: postgresql+asyncpg://user:password@host:port/database
DATABASE_URL=postgresql+asyncpg://nba_scraper_user:your_password@localhost:5432/nba_scraper

# Connection pool settings
POOL_SIZE=10
MAX_OVERFLOW=20
POOL_TIMEOUT=30
POOL_RECYCLE=3600

# Query timeouts (seconds)
QUERY_TIMEOUT=30
STATEMENT_TIMEOUT=300

# SSL settings for database
SSL_MODE=prefer
# SSL_CERT_PATH=/path/to/cert.pem
# SSL_KEY_PATH=/path/to/key.pem
# SSL_CA_PATH=/path/to/ca.pem

# =============================================================================
# HTTP CLIENT & API CONFIGURATION
# =============================================================================

# User agent for HTTP requests
USER_AGENT=Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36

# Rate limiting
REQUESTS_PER_MIN=45
RETRY_MAX=5
RETRY_BACKOFF_FACTOR=2.0

# API timeouts and limits
NBA_API_RATE_LIMIT=5
NBA_API_TIMEOUT=30
NBA_API_MAX_RETRIES=5
# NBA_API_PROXY=http://proxy:port
NBA_API_RAW_MODE=false

# API Base URLs
NBA_STATS_BASE_URL=https://stats.nba.com/stats
BREF_BASE_URL=https://www.basketball-reference.com
GAMEBOOKS_BASE_URL=https://official.nba.com/referee-assignments

# =============================================================================
# PIPELINE CONFIGURATION
# =============================================================================

# Concurrency and processing
MAX_CONCURRENT_REQUESTS=5
BACKFILL_CHUNK_SIZE=10
CHECKPOINT_ENABLED=true

# Feature flags
ENABLE_EXPERIMENTAL_FEATURES=false
ENABLE_ASYNC_PROCESSING=true

# =============================================================================
# LOGGING
# =============================================================================

# Log level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO

# Log format (json, text, structured)
LOG_FORMAT=json

# Log file settings
# LOG_FILE_PATH=/path/to/logs/nba_scraper.log
LOG_MAX_SIZE=100MB
LOG_BACKUP_COUNT=5

# =============================================================================
# CACHING
# =============================================================================

# Local cache settings
CACHE_DIR=.cache
CACHE_HTTP_TTL=3600
CACHE_ENABLE_HTTP_CACHE=true
CACHE_ENABLE_QUERY_CACHE=true
CACHE_COMPRESSION=true

# Redis cache (optional)
# CACHE_REDIS_URL=redis://localhost:6379/0
CACHE_REDIS_TTL=7200
CACHE_REDIS_MAX_CONNECTIONS=10

# =============================================================================
# API KEYS & AUTHENTICATION
# =============================================================================

# NBA Stats API (if needed for premium endpoints)
# API_NBA_STATS_API_KEY=your_nba_stats_api_key

# Basketball Reference (if premium subscription)
# API_BREF_API_KEY=your_bref_api_key

# Redis authentication
# API_REDIS_PASSWORD=your_redis_password

# Error tracking and monitoring
# API_SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
# API_DATADOG_API_KEY=your_datadog_api_key

# Alerting
# API_SLACK_WEBHOOK_URL=https://hooks.slack.com/services/your/webhook/url
# API_PAGERDUTY_INTEGRATION_KEY=your_pagerduty_key

# =============================================================================
# MONITORING & OBSERVABILITY
# =============================================================================

# Metrics
MONITORING_ENABLE_METRICS=true
MONITORING_METRICS_PORT=9090

# Health checks
MONITORING_ENABLE_HEALTH_CHECKS=true
MONITORING_HEALTH_CHECK_PORT=8080

# Distributed tracing
MONITORING_ENABLE_TRACING=false
MONITORING_TRACING_SAMPLE_RATE=0.1

# Alerting thresholds
MONITORING_ERROR_RATE_THRESHOLD=0.05
MONITORING_LATENCY_P99_THRESHOLD=5.0
MONITORING_QUEUE_SIZE_THRESHOLD=1000

# =============================================================================
# SECURITY
# =============================================================================

# Allowed hosts (comma-separated)
ALLOWED_HOSTS=localhost,127.0.0.1

# CORS origins (comma-separated)
CORS_ORIGINS=http://localhost:3000

# =============================================================================
# DATA PATHS
# =============================================================================

# Team aliases and venues
TEAM_ALIASES_PATH=team_aliases.yaml
VENUES_PATH=venues.csv

# =============================================================================
# TESTING & DEVELOPMENT
# =============================================================================

# Test-specific overrides (only used in test environment)
# NBA_SCRAPER_ENV=test
# NBA_SCRAPER_DB_HOST=localhost
# NBA_SCRAPER_DB_NAME=test_nba_scraper
# NBA_SCRAPER_DB_USER=test_user
# NBA_SCRAPER_DB_PASSWORD=test_password
# NBA_SCRAPER_LOG_LEVEL=WARNING

# Strict type checking for development
# STRICT_TYPES=false